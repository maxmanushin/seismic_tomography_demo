Metadata-Version: 2.4
Name: seismotomography
Version: 0.1.0
Summary: Учебный интерактив по сейсмотомографии со Streamlit и прямолучевой инверсией.
Author: Educational Seismotomography Team
Requires-Python: >=3.10
Description-Content-Type: text/markdown
Requires-Dist: numpy>=1.25
Requires-Dist: streamlit>=1.32
Requires-Dist: matplotlib>=3.7
Provides-Extra: dev
Requires-Dist: black>=23.9; extra == "dev"
Requires-Dist: ruff>=0.1; extra == "dev"

# Сейсмотомография — интерактивное объяснение

Небольшой учебный проект, который помогает шаг за шагом рассказать другу,
как устроена продольная сейсмотомография: от аналитических годографов
рефрагированных волн и «метода пристрелки» до прямолучевой инверсии с
градиентным обновлением модели скорости.

## Что внутри

- `tomography/` — модуль с ключевыми компонентами:
  - `grid.py`: двумерная модель скорости на сетке и 1D послойная модель.
  - `geometry.py`: описание схемы источников и приёмников.
  - `ray_tracing.py`: прямые лучи, годографы и построение траектории головной волны.
  - `inversion.py`: расчёт невязки, градиента и Тихоновской регуляризации.
  - `synthetic.py`: генерация синтетического примера с гауссовой аномалией.
- `app.py` — приложение Streamlit для интерактивной визуализации.
- `__init__.py` — экспорт основных функций пакета на верхний уровень.

## Быстрый старт через uv

В репозитории лежит `pyproject.toml`, так что самый быстрый способ поднять среду —
[uv](https://github.com/astral-sh/uv):

```bash
uv venv
source .venv/bin/activate
uv sync
```

Команда `uv sync` создаст виртуальное окружение и поставит зависимости (`numpy`,
`streamlit`, `matplotlib`). Если uv недоступен, воспользуйтесь стандартным `pip`:

```bash
python3 -m venv .venv
source .venv/bin/activate
pip install numpy streamlit matplotlib
```

## Как запустить визуализацию

1. Активируйте виртуальное окружение (если создавали).
2. Выполните:

   ```bash
   streamlit run app.py
   ```

3. Откройте в браузере ссылку, которую выдаст Streamlit (обычно http://localhost:8501).

## Что показывает приложение

- **Слева** — параметры инверсии (шаг, дискретизация луча, допустимые скорости) и кнопки
  для сброса и выполнения одного итерационного шага; там же — настройки годографа и λ.
- **Графики**:
  - истинная и текущая модели скорости;
  - карта градиента, гистограмма невязки и история уменьшения ½‖r‖²;
  - годограф прямой и головной волн с отметками точки схождения и времени подхода;
  - траектория головной волны, построенная методом пристрелки.
- Отдельная вкладка «Гайд по сейсмотомографии» содержит план объяснения и ключевые тезисы.

## Возможные продолжения

- Добавить более сложное лучепреломление (непрямолинейные траектории).
- Ввести адаптивный подбор шага и автоматическую остановку по невязке.
- Сохранить историю итераций для сравнения сходимости.

Приятных экспериментов и удачных объяснений!
